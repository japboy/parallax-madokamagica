/**
 * File built with Cakefile at 2012-10-29T00:56:14+09:00
 */
(function(){var e,t,n=[].slice;t=["http://www.madoka-magica.com/tv/special/yokokugallery/img/01.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/02.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/03.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/04.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/05.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/06.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/07.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/08.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/09.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/10.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/11.jpg","http://www.madoka-magica.com/tv/special/yokokugallery/img/12.jpg"],e=jQuery,e.extend({preloadByDOM:function(t){var n,r,i,s,o,u;i=[],s=function(t,n){return e("<img/>").attr("src",t).on("error",function(r){return e(this).remove(),n.reject(t)}).on("load",function(r){return e(this).remove(),n.notify(t),n.resolve(t)})};for(o=0,u=t.length;o<u;o++)r=t[o],n=e.Deferred(),i.push(n),s(r,n);return i}}),e(function(){var r,i,s,o,u,a,f;return i=e(window),r=e("#main"),a=function(){var t,n,r,i,s;n=e("#loader"),r=e("#text"),t=e("#bar");if(0===t.length||0===r.length)r=e("<p/>"),t=e("<div/>"),r.attr({id:"text","data-status":"0 %"}).appendTo(n),t.attr({id:"bar","data-progress":0}).appendTo(n);return i=function(){return r.text(r.data("status")),t.stop(!0).animate({width:""+t.data("progress")+"%"},{duration:"fast"})},s={error:function(e){return console.log(e),r.data("status",e),i()},update:function(e){return r.data("status",""+Math.round(e)+" %"),t.data("progress",e),i()}},s}(),u=function(){var e,t,r,i,s,o;t=1<=arguments.length?n.call(arguments,0):[],i=100/t.length,r=0;for(s=0,o=t.length;s<o;s++)e=t[s],void 0!==e&&(r+=i);return a.update(r)},o=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],a.error("Error occured.")},s=function(){var t,s,o,u,a,f;u=1<=arguments.length?n.call(arguments,0):[],r.css({height:""+u.length*100+"%"}).empty();for(s=a=0,f=u.length;a<f;s=++a)o=u[s],t=e("<div/>"),t.addClass("image").attr({id:s,"data-scale":1.1}).css({backgroundImage:"url("+o+")",backgroundSize:""+t.data("scale")*100+"%"}),r.append(t);return e(".image").each(function(t){var n,r,s,o;return n=e(this),s=n.offset().top,r=n.height(),o=n.data("scale"),e(window).on("scroll",function(e){var t,u,a,f,l;f=i.scrollTop()+i.height(),a=n.offset().top+n.height();if(f>s&&a>i.scrollTop())return u=(r*o-r)/2*-1,t=i.scrollTop()-s,l=t/8*-1,n.css({backgroundPosition:"50% "+(u+l)+"px"})})})},f=e.preloadByDOM(t),e.when.apply(this,f).progress(u).fail(o).done(s)})}).call(this)